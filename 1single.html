---
layout: null
---
<!DOCTYPE html>
<html>
<head>
    <title>Pet Checker</title>
</head>
<body>
    <input id="photo" type="file" accept="image/*">
    <div id="results"></div>

    <script type="module">
        import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

        const photoInput = document.getElementById("photo");
        const resultsDiv = document.getElementById("results");

        photoInput.onchange = async () => {
            const file = photoInput.files[0];
            if (!file) return;

            resultsDiv.innerHTML = `<img src="${URL.createObjectURL(file)}" width="300"><h1 id="status">Checking...</h1>`;

            try {
                const app = await Client.connect("jayk1p/tinypets");
                const result = await app.predict("/predict", [file]);

                const val = String(result.data[0].label);
                const answer = (val === "True") ? "CAT" : (val === "False") ? "DOG" : val.toUpperCase();

                document.getElementById("status").innerText = "It is a: " + answer;
            } catch (e) {
                document.getElementById("status").innerText = "Error: " + e.message;
            }
        };
    </script>
</body>
</html>

---
title: Cat vs Dog Classifier
layout: page
---

<script type="module">
  import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

  const photoInput = document.getElementById("photo");
  const resultsDiv = document.getElementById("results");

  async function predict(blob) {
    resultsDiv.innerHTML = "<h1>Analyzing...</h1>";
    try {
      const app = await Client.connect("jayk1p/tinypets");
      const result = await app.predict("/predict", [blob]);

      // 1. Get the raw prediction (True or False)
      let rawPrediction = result.data[0].label; 
      
      // 2. CHANGE: The Translation Logic
      // If the model says "True", we show "Cat". If "False", we show "Dog".
      let finalName = "";
      if (rawPrediction === "True") {
        finalName = "Cat üê±";
      } else if (rawPrediction === "False") {
        finalName = "Dog üê∂";
      } else {
        finalName = rawPrediction; // Fallback if it's already a breed name
      }

      resultsDiv.innerHTML = `
        <img src="${URL.createObjectURL(blob)}" width="300" style="border-radius:10px;">
        <h1 style="color: #2e7d32;">It's a ${finalName}!</h1>
      `;
    } catch (e) {
      resultsDiv.innerHTML = "<h1>Error</h1><p>" + e.message + "</p>";
    }
  }

  photoInput.onchange = async () => {
    const file = photoInput.files[0];
    if (file) predict(file);
  }
</script>

<div style="text-align:center; font-family: sans-serif;">
  <h2>Pet Classifier</h2>
  <input id="photo" type="file" accept="image/*" style="margin-bottom:20px;">
  <div id="results"></div>
</div>

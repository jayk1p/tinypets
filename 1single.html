---
title: 1. Single file
layout: page
---
<input id="photo" type="file">
<div id="results"></div>

<script type="module">
  import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

  // Safety Guard: Only run if the elements exist on this page
  const photoInput = document.getElementById("photo");
  const resultsDiv = document.getElementById("results");

  if (photoInput && resultsDiv) {
    async function predict(file) {
      resultsDiv.innerHTML = `<img src="${URL.createObjectURL(file)}" width="300"><h1>Checking...</h1>`;

      try {
        const app = await Client.connect("jayk1p/tinypets");
        const result = await app.predict("/predict", [file]);

        const val = String(result.data[0].label);
        // Translate True/False to Cat/Dog
        const answer = (val === "True") ? "CAT" : (val === "False") ? "DOG" : val.toUpperCase();

        resultsDiv.innerHTML = `
          <img src="${URL.createObjectURL(file)}" width="300">
          <h1>It is a: ${answer}</h1>
        `;
      } catch (e) {
        resultsDiv.innerHTML += "<p>Error: " + e.message + "</p>";
      }
    }

    photoInput.onchange = () => {
      const file = photoInput.files[0];
      if (file) predict(file);
    };
  }
</script>
